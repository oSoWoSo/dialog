# Install fonts

	read -p "Do you want to install some fonts? (y) " fonts
	case $fonts in
		y ) 
		echo -n "$blue"
		echo "Install fonts..."
		echo -n "$none"
		sudo xbps-install liberation-fonts-ttf dejavu-fonts-ttf \
			ttf-ubuntu-font-family fonts-roboto-ttf
		echo -n "$green"
		echo "Done"
		echo -n "$none"
		;;

	esac


# Install LibreOffice

read -p "Do you want to install LibreOffice? (y) " libreoffice
case $libreoffice in
	y )
	echo -n "$blue"
	echo "Install LibreOffice..."
	echo -n "$none"
	sudo xbps-install libreoffice-writer libreoffice-calc libreoffice-impress \
		libreoffice-draw libreoffice-math libreoffice-base libreoffice-gnome \
		libreoffice-i18n-en-US libreoffice-i18n-de
	echo -n "$green"
	echo "Done"
	echo -n "$none"
	;;

esac

# Install GIMP + Inkscape

read -p "Do you want to install GIMP and Inkscape? (y) " gimpinkscape
case $gimpinkscape in
	y )
	echo -n "$blue"
	echo "Install GIMP and Inkscape..."
	echo -n "$none"
	sudo xbps-install inkscape gimp
	echo -n "$green"
	echo "Done"
	echo -n "$none"
	;;

esac

# Choose X keyboard language
	case $xlanguage in
		1 )
			if [ ! -d /etc/X11/xorg.conf.d ]; then
				sudo mkdir -p /etc/X11/xorg.conf.d
			fi
			sed "s/"cs"/"cz"/" conf.keyboard > 00-keyboard.conf
			sudo cp -r 00-keyboard.conf /etc/X11/xorg.conf.d/00-keyboard.conf
			sudo cp -r conf.touchpad /etc/X11/xorg.conf.d/20-touchpad.conf
			echo -n "$green"
			echo "Done"
			echo -n "$none"
			;;
			
		2 )
			if [ ! -d /etc/X11/xorg.conf.d ]; then
				sudo mkdir -p /etc/X11/xorg.conf.d
			fi
			sed "s/"cs"/"de"/" conf.keyboard > 00-keyboard.conf
			sudo cp -r 00-keyboard.conf /etc/X11/xorg.conf.d/00-keyboard.conf
			sudo cp -r conf.touchpad /etc/X11/xorg.conf.d/20-touchpad.conf
			echo -n "$green"
			echo "Done"
			echo -n "$none"
			;;			
			
		3 )
			if [ ! -d /etc/X11/xorg.conf.d ]; then
				sudo mkdir -p /etc/X11/xorg.conf.d
			fi
			sed "s/"cs"/"fr"/" conf.keyboard > 00-keyboard.conf
			sudo cp -r 00-keyboard.conf /etc/X11/xorg.conf.d/00-keyboard.conf
			sudo cp -r conf.touchpad /etc/X11/xorg.conf.d/20-touchpad.conf
			echo -n "$green"
			echo "Done"
			echo -n "$none"
			;;			
			
		4 )
			if [ ! -d /etc/X11/xorg.conf.d ]; then
				sudo mkdir -p /etc/X11/xorg.conf.d
			fi
			sed "s/"cs"/"ru"/" conf.keyboard > 00-keyboard.conf
			sudo cp -r 00-keyboard.conf /etc/X11/xorg.conf.d/00-keyboard.conf
			sudo cp -r conf.touchpad /etc/X11/xorg.conf.d/20-touchpad.conf
			echo -n "$green"
			echo "Done"
			echo -n "$none"
			;;			

			
		5 )
			if [ ! -d /etc/X11/xorg.conf.d ]; then
				sudo mkdir -p /etc/X11/xorg.conf.d
			fi
			sed "s/"cs"/"es"/" conf.keyboard > 00-keyboard.conf
			sudo cp -r 00-keyboard.conf /etc/X11/xorg.conf.d/00-keyboard.conf
			sudo cp -r conf.touchpad /etc/X11/xorg.conf.d/20-touchpad.conf
			echo -n "$green"
			echo "Done"
			echo -n "$none"
			;;
			
			
		* )
			if [ ! -d /etc/X11/xorg.conf.d ]; then
				sudo mkdir -p /etc/X11/xorg.conf.d
			fi
			sed "s/"cs"/"us"/" conf.keyboard > 00-keyboard.conf
			sudo cp -r 00-keyboard.conf /etc/X11/xorg.conf.d/00-keyboard.conf
			sudo cp -r conf.touchpad /etc/X11/xorg.conf.d/20-touchpad.conf
			echo -n "$green"
			echo "Done"
			echo -n "$none"
			;;	
		esac

# Enable required services

echo -n "$blue"
echo "Enable required services..."
echo "Enable D-Bus..."
echo -n "$none"
sudo xbps-install -y dbus
if [ -L /var/service/dbus ]; then
	echo -n "$green"
	echo "Service dbus already exist. Continue."
	echo -n "$none"
else
	sudo ln -s /etc/sv/dbus /var/service
	echo -n "$green"
	echo "Done"
	echo -n "$none"
fi
	echo -n "$blue"
	echo "Enable elogind..."
	echo -n "$none"
	sudo xbps-install -y elogind
if [ -L /var/service/elogind ]; then
	echo -n "$green"
	echo "Service elogind already exist. Continue."
	echo -n "$none"
else
	sudo ln -s /etc/sv/elogind /var/service
	echo -n "$green"
	echo "Done"
	echo -n "$none"
fi
	echo -n "$blue"
	echo "Enable Polkit..."
	echo -n "$none"
if [ -L /var/service/polkitd ]; then
	echo -n "$green"
	echo "Service polkitd already exist. Continue."
	echo -n "$none"
else
	sudo ln -s /etc/sv/polkitd /var/service
	echo -n "$green"
	echo "Done"
	echo -n "$none"
fi

# Configure Cron

echo -n "$blue"
echo "Install cronie..."
echo -n "$none"
sudo xbps-install -y cronie
echo -n "$blue"
echo "Enable cronie service..."
echo -n "$none"
if [ -L /var/service/cronie ]; then
	echo -n "$green"
	echo "Service cronie already exist. Continue."
	echo -n "$none"
else
	sudo ln -sv /etc/sv/cronie /var/service
	echo -n "$green"
	echo "Done"
	echo -n "$none"
fi

# Configure Audio

read -p "Do you want to install PulseAudio for audio? (y) " pulseaudio
case $pulseaudio in
	y )
	echo -n "$blue"
	echo "Install PulseAudio..."
	echo -n "$none"
	sudo xbps-install pulseaudio pulseaudio-utils pulsemixer alsa-plugins-pulseaudio \
		pavucontrol
	echo -n "$green"
	echo "Done"
	echo -n "$none"
	;;

esac

# Configure Bluetooth

read -p "Do you want to use Bluetooth? (y) " bluetooth
case $bluetooth in
	y )
	echo -n "$blue"
	echo "Install BlueZ..."
	echo -n "$none"
	sudo xbps-install bluez
	printf "\n"
	read -p "Do you want to integrate Bluetooth into a graphical environment? (y) " blueman
	case $blueman in
		y )
		echo -n "$blue"
		echo "Install Blueman..."
		echo -n "$none"
		sudo xbps-install blueman
		;;

	esac

	echo -n "$blue"
	echo "Enable Bluetooth service..."
	echo -n "$none"
	if [ -L /var/service/bluetoothd ]; then
		echo -n "$green"
		echo "Service bluetoothd already exist. Continue."
		echo -n "$none"
	else
		sudo ln -sv /etc/sv/bluetoothd /var/service
		echo -n "$green"
		echo "Done"
		echo -n "$none"
	fi
	;;

esac

# Configure Printing support

read -p "Do you want to use printers? (y) " printer
case $printer in
	y )
	echo -n "$blue"
	echo "Install CUPS and Tools..."
	echo -n "$none"
	sudo xbps-install cups cups-pk-helper cups-filters foomatic-db foomatic-db-engine
	read -p "Do you want to install a graphical printer program? (y) " printergui
	case $printergui in
		y )
		echo -n "$blue"
		echo "Install system-config-printer..."
		echo -n "$none"
		sudo xbps-install system-config-printer
		;;

	esac

	echo -n "$blue"
	echo "Enable CUPS service..."
	echo -n "$none"
	if [ -L /var/service/cupsd ]; then
		echo -n "$green"
		echo "Service cupsd already exist. Continue."
		echo -n "$none"
	else
		sudo ln -sv /etc/sv/cupsd /var/service
		echo -n "$green"
		echo "Done"
		echo -n "$none"
	fi
	;;

esac

# Configure Notebook Power Saving

read -p "Do you want to install TLP for power saving (Notebooks only)? (y) " nb_power
case $nb_power in
	y )
	echo -n "$blue"
	echo "Install TLP and PowerTop..."
	echo -n "$none"
	sudo xbps-install tlp tlp-rdw powertop
	echo -n "$blue"
	echo "Enable TLP service..."
	echo -n "$none"
	if [ -L /var/service/tlp ]; then
		echo -n "$green"
		echo "Service tlp already exist. Continue."
		echo -n "$none"
	else
		sudo ln -sv /etc/sv/tlp /var/service
		echo -n "$green"
		echo "Done"
		echo -n "$none"
	fi
	;;

esac

# Configure Filesharing

read -p "Do you want to install NFS for file sharing? (y) " pulseaudio
case $pulseaudio in
	y )
	echo -n "$blue"
	echo "Install NFS..."
	echo -n "$none"
	sudo xbps-install nfs-utils sv-netmount
	sudo ln -s /etc/sv/statd /var/service/
	sudo ln -s /etc/sv/rcpbind /var/service/
	sudo ln -s /etc/sv/netmount /var/service/
	echo -n "$green"
	echo "Done"
	echo -n "$none"
	;;

esac


# Configure the window manager

read -p "Do you want to configure your Window Manager? (y) " confwm
case $confwm in
	y )
	echo -n "$blue"
	echo "Will be configured just for your user..."
	echo -n "$none"
	 case $windowmanager in
		1 ) 
# i3-gaps
		echo -n "$blue"
		echo "Configuring i3-gaps..."
		echo -n "$none"
		echo -n "$green"
		echo "Done"
		echo -n "$none"
		;;

		2 )
# Openbox
		echo -n "$blue"
		echo "Configuring Openbox..."
		echo -n "$none"
		obmenu-generator -p -i -u -d -c
		echo -n "$green"
		echo "Done"
		echo -n "$none"
		;;

		3 )
# Fluxbox
		echo -n "$blue"
		echo "Configuring Fluxbox..."
		echo -n "$none"
		echo -n "$green"
		echo "Done"
		echo -n "$none"
		;;

		4 )
# Bspwm
		echo -n "$blue"
		echo "Configuring Bspwm..."
		echo -n "$none"
		echo -n "$green"
		echo "Done"
		echo -n "$none"
		;;

		5 )
# Herbsluftwm
		echo -n "$blue"
		echo "Configuring herbstluftwm..."
		echo -n "$none"
		echo -n "$green"
		echo "Done"
		echo -n "$none"
		;;

		6 )
# Icewm
		echo -n "$blue"
		echo "Configuring IceWM..."
		echo -n "$none"
		echo -n "$green"
		echo "Done"
		echo -n "$none"
		;;

		7 )
# Awesome
		echo -n "$blue"
		echo "Configuring Awesome..."
		echo -n "$none"
		mkdir ~/.config/awesome
		sed "s/"xterm"/"$term"/" /etc/xdg/awesome/rc.lua > ~/.config/awesome/rc.lua
		echo -n "$green"
		echo "Done"
		echo -n "$none"
		;;

		8 )
# Jwm
		echo -n "$blue"
		echo "Configuring jwm..."
		echo -n "$none"
		echo -n "$green"
		echo "Done"
		echo -n "$none"
		;;

		9 )
# Dwm
		echo -n "$blue"
		echo "Configuring dwm..."
		echo -n "$none"
		echo -n "$green"
		echo "Done"
		echo -n "$none"
		;;

		10 )
# FVWM3
		echo -n "$blue"
		echo "Configuring FVWM3..."
		echo -n "$none"
		echo -n "$green"
		echo "Done"
		echo -n "$none"
		;;

		11 )
# Qtile
		echo -n "$blue"
		echo "Configuring Qtile..."
		echo -n "$none"
		echo -n "$green"
		echo "Done"
		echo -n "$none"
		;;

		12 )
# Sway
		echo -n "$blue"
		echo "Configuring Sway..."
		echo -n "$none"
		sudo ln -s /etc/sv/seatd /var/service
		usermod -aG _seatd "$USER"
		echo -n "$green"
		echo "Done"
		echo -n "$none"
		;;

		13 )
# Wayfire
		echo -n "$blue"
		echo "Configuring Wayfire..."
		echo -n "$none"
		echo -n "$green"
		echo "Done"
		echo -n "$none"
		;;

	esac

	;;

esac

# Configure the Display manager

read -p "Check if a display manager exist. If yes, enable it? (y) " dmenable
case $dmenable in
	y )
	if [ -f /usr/bin/lightdm ]; then
		sudo ln -sv /etc/sv/lightdm /var/service
	elif [ -f /usr/bin/sddm ]; then
		sudo ln -sv /etc/sv/sddm /var/service
	elif [ -f /usr/bin/gdm ]; then
		sudo ln -sv /etc/sv/gdm /var/service
	elif [ -f /usr/bin/slim ]; then
		sudo ln -sv /etc/sv/slim /var/service
	elif [ -f /usr/bin/emptty ]; then
		sudo ln -sv /etc/sv/emptty /var/service
	fi
	;;

esac

echo -n "$red"
echo "Installation finished. Enjoy Void linux..."
echo -n "$none"
